{"ast":null,"code":"var _jsxFileName = \"D:\\\\money-tracker\\\\src\\\\components\\\\Dashboard.js\";\nimport React from 'react';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, Title } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\nimport { TRANSACTION_TYPES } from '../db';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend, Title);\nconst InfoCard = ({\n  title,\n  value,\n  color\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"info-card\",\n  style: {\n    borderLeftColor: color\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      color\n    },\n    children: [\"\\xA5 \", value.toFixed(2)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\n_c = InfoCard;\nfunction Dashboard({\n  transactions\n}) {\n  const totalIncome = transactions.filter(t => t.type === TRANSACTION_TYPES.INCOME).reduce((acc, t) => acc + t.amount, 0);\n  const totalExpense = transactions.filter(t => t.type === TRANSACTION_TYPES.EXPENSE).reduce((acc, t) => acc + t.amount, 0);\n  const balance = totalIncome - totalExpense;\n  const expenseByCategory = transactions.filter(t => t.type === TRANSACTION_TYPES.EXPENSE).reduce((acc, t) => {\n    acc[t.category] = (acc[t.category] || 0) + t.amount;\n    return acc;\n  }, {});\n  const chartData = {\n    labels: Object.keys(expenseByCategory),\n    datasets: [{\n      data: Object.values(expenseByCategory),\n      backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#E7E9ED', '#8DDF3C', '#F976D3', '#5A2A27'],\n      hoverBackgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#E7E9ED', '#8DDF3C', '#F976D3', '#5A2A27']\n    }]\n  };\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'right'\n      },\n      title: {\n        display: true,\n        text: '支出类别分布',\n        font: {\n          size: 18\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-summary\",\n      children: [/*#__PURE__*/_jsxDEV(InfoCard, {\n        title: \"\\u603B\\u6536\\u5165\",\n        value: totalIncome,\n        color: \"#2ecc71\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InfoCard, {\n        title: \"\\u603B\\u652F\\u51FA\",\n        value: totalExpense,\n        color: \"#e74c3c\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InfoCard, {\n        title: \"\\u7ED3\\u4F59\",\n        value: balance,\n        color: \"#3498db\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card chart-container\",\n      children: Object.keys(expenseByCategory).length > 0 ? /*#__PURE__*/_jsxDEV(Doughnut, {\n        data: chartData,\n        options: chartOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-data-placeholder\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u6682\\u65E0\\u652F\\u51FA\\u6570\\u636E\\u4EE5\\u751F\\u6210\\u56FE\\u8868\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_c2 = Dashboard;\nexport default Dashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"InfoCard\");\n$RefreshReg$(_c2, \"Dashboard\");","map":{"version":3,"names":["React","Chart","ChartJS","ArcElement","Tooltip","Legend","Title","Doughnut","TRANSACTION_TYPES","jsxDEV","_jsxDEV","register","InfoCard","title","value","color","className","style","borderLeftColor","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","_c","Dashboard","transactions","totalIncome","filter","t","type","INCOME","reduce","acc","amount","totalExpense","EXPENSE","balance","expenseByCategory","category","chartData","labels","Object","keys","datasets","data","values","backgroundColor","hoverBackgroundColor","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","display","text","font","size","length","options","_c2","$RefreshReg$"],"sources":["D:/money-tracker/src/components/Dashboard.js"],"sourcesContent":["import React from 'react';\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, Title } from 'chart.js';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { TRANSACTION_TYPES } from '../db';\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend, Title);\r\n\r\nconst InfoCard = ({ title, value, color }) => (\r\n  <div className=\"info-card\" style={{ borderLeftColor: color }}>\r\n    <h4>{title}</h4>\r\n    <p style={{ color }}>¥ {value.toFixed(2)}</p>\r\n  </div>\r\n);\r\n\r\nfunction Dashboard({ transactions }) {\r\n  const totalIncome = transactions\r\n    .filter(t => t.type === TRANSACTION_TYPES.INCOME)\r\n    .reduce((acc, t) => acc + t.amount, 0);\r\n  \r\n  const totalExpense = transactions\r\n    .filter(t => t.type === TRANSACTION_TYPES.EXPENSE)\r\n    .reduce((acc, t) => acc + t.amount, 0);\r\n\r\n  const balance = totalIncome - totalExpense;\r\n\r\n  const expenseByCategory = transactions\r\n    .filter(t => t.type === TRANSACTION_TYPES.EXPENSE)\r\n    .reduce((acc, t) => {\r\n      acc[t.category] = (acc[t.category] || 0) + t.amount;\r\n      return acc;\r\n    }, {});\r\n  \r\n  const chartData = {\r\n    labels: Object.keys(expenseByCategory),\r\n    datasets: [{\r\n      data: Object.values(expenseByCategory),\r\n      backgroundColor: [\r\n        '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40',\r\n        '#E7E9ED', '#8DDF3C', '#F976D3', '#5A2A27'\r\n      ],\r\n      hoverBackgroundColor: [\r\n        '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40',\r\n        '#E7E9ED', '#8DDF3C', '#F976D3', '#5A2A27'\r\n      ]\r\n    }]\r\n  };\r\n  \r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        position: 'right',\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: '支出类别分布',\r\n        font: { size: 18 }\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"dashboard-summary\">\r\n        <InfoCard title=\"总收入\" value={totalIncome} color=\"#2ecc71\" />\r\n        <InfoCard title=\"总支出\" value={totalExpense} color=\"#e74c3c\" />\r\n        <InfoCard title=\"结余\" value={balance} color=\"#3498db\" />\r\n      </div>\r\n\r\n      <div className=\"card chart-container\">\r\n        {Object.keys(expenseByCategory).length > 0 ? (\r\n          <Doughnut data={chartData} options={chartOptions} />\r\n        ) : (\r\n          <div className=\"no-data-placeholder\">\r\n            <p>暂无支出数据以生成图表</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}